<!doctype html><html class="theme-next muse use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="baidu-site-verification" content="CCxrU2lQxz"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css"><meta name="keywords" content="CentOS,"><link rel="alternate" href="/atom.xml" title="一剑九州寒的个人小站" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1"><meta name="description" content="编译安装python3.4Centos上面默认的Python版本是2.6，本文介绍如何安装3.6版本。下载前准备需要安装以下库，不然会有问题。1yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make"><meta name="keywords" content="CentOS"><meta property="og:type" content="article"><meta property="og:title" content="CentOS 开发环境配置"><meta property="og:url" content="http://blog.alanice.cn/2017/06/01/37bc801c-f724-4136-a888-20679096101e/index.html"><meta property="og:site_name" content="一剑九州寒的个人小站"><meta property="og:description" content="编译安装python3.4Centos上面默认的Python版本是2.6，本文介绍如何安装3.6版本。下载前准备需要安装以下库，不然会有问题。1yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make"><meta property="og:updated_time" content="2017-06-01T10:00:00.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="CentOS 开发环境配置"><meta name="twitter:description" content="编译安装python3.4Centos上面默认的Python版本是2.6，本文介绍如何安装3.6版本。下载前准备需要安装以下库，不然会有问题。1yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",sidebar:{position:"left",display:"hide",offset:12,offset_float:0,b2t:!1,scrollpercent:!1},fancybox:!0,motion:!0,duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://blog.alanice.cn/2017/06/01/37bc801c-f724-4136-a888-20679096101e/"><title>CentOS 开发环境配置 | 一剑九州寒的个人小站</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?ceeffa311540395072ff7f509647be0c";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">一剑九州寒的个人小站</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">淡泊以明志，宁静以致远。</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-categories-tags"><a href="/categories-tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-telegram"></i><br>导航</a></li><li class="menu-item menu-item-music"><a href="javascript:;" rel="section"><i class="menu-item-icon fa fa-fw fa-music"></i><br>音乐</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://blog.alanice.cn/2017/06/01/37bc801c-f724-4136-a888-20679096101e/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Alan Zou"><meta itemprop="description" content=""><meta itemprop="image" content="http://ww1.sinaimg.cn/large/7c80419fgy1fgkmxk3ce6j20dw0dw3zh.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="一剑九州寒的个人小站"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">CentOS 开发环境配置</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-01T18:00:00+08:00">2017-06-01 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span> </a></span></span><span id="/2017/06/01/37bc801c-f724-4136-a888-20679096101e/" class="leancloud_visitors" data-flag-title="CentOS 开发环境配置"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数 </span><span class="leancloud-visitors-count"></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">字数统计字</span> <span title="字数统计">991 </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长</span> <span title="阅读时长">6 分钟</span></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="编译安装python3-4"><a href="#编译安装python3-4" class="headerlink" title="编译安装python3.4"></a>编译安装python3.4</h2><p>Centos上面默认的Python版本是2.6，本文介绍如何安装3.6版本。</p><h3 id="下载前准备"><a href="#下载前准备" class="headerlink" title="下载前准备"></a>下载前准备</h3><p>需要安装以下库，不然会有问题。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make</div></pre></td></tr></table></figure><a id="more"></a><h3 id="下载Python3-4源码"><a href="#下载Python3-4源码" class="headerlink" title="下载Python3.4源码"></a>下载Python3.4源码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http://mirrors.sohu.com/python/3.6.1/Python-3.6.1.tar.xz</div></pre></td></tr></table></figure><h3 id="解压缩并安装"><a href="#解压缩并安装" class="headerlink" title="解压缩并安装"></a>解压缩并安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">xz -d Python-3.4.1.tar.xz</div><div class="line">tar xf Python-3.4.1.tar -C /usr/<span class="built_in">local</span>/src/</div><div class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/src/Python-3.4.1/</div><div class="line">./configure --prefix=/usr/<span class="built_in">local</span>/python34</div><div class="line">make -j8 &amp;&amp; make install</div><div class="line">``` </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">## 配置vsftpd服务</span></div><div class="line"></div><div class="line"><span class="comment">### 添加ftp用户</span></div><div class="line"></div><div class="line">首先添加ftp用户</div><div class="line"></div><div class="line">假设这里我们添加的用户名字叫ftpuser</div></pre></td></tr></table></figure><h1 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h1><p>useradd -d /home/ftpuser -g ftpuser -s /sbin/nologin ftpuser</p><h1 id="设置密码"><a href="#设置密码" class="headerlink" title="设置密码"></a>设置密码</h1><p>psswd ftpuser<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">### 配置文件</div><div class="line"></div><div class="line">最后贴一下我的配置文件，怕下次重新配置服务器ftp的时候又有问题</div></pre></td></tr></table></figure><p></p><h1 id="Example-config-file-etc-vsftpd-vsftpd-conf"><a href="#Example-config-file-etc-vsftpd-vsftpd-conf" class="headerlink" title="Example config file /etc/vsftpd/vsftpd.conf"></a>Example config file /etc/vsftpd/vsftpd.conf</h1><p>#</p><h1 id="The-default-compiled-in-settings-are-fairly-paranoid-This-sample-file"><a href="#The-default-compiled-in-settings-are-fairly-paranoid-This-sample-file" class="headerlink" title="The default compiled in settings are fairly paranoid. This sample file"></a>The default compiled in settings are fairly paranoid. This sample file</h1><h1 id="loosens-things-up-a-bit-to-make-the-ftp-daemon-more-usable"><a href="#loosens-things-up-a-bit-to-make-the-ftp-daemon-more-usable" class="headerlink" title="loosens things up a bit, to make the ftp daemon more usable."></a>loosens things up a bit, to make the ftp daemon more usable.</h1><h1 id="Please-see-vsftpd-conf-5-for-all-compiled-in-defaults"><a href="#Please-see-vsftpd-conf-5-for-all-compiled-in-defaults" class="headerlink" title="Please see vsftpd.conf.5 for all compiled in defaults."></a>Please see vsftpd.conf.5 for all compiled in defaults.</h1><p>#</p><h1 id="READ-THIS-This-example-file-is-NOT-an-exhaustive-list-of-vsftpd-options"><a href="#READ-THIS-This-example-file-is-NOT-an-exhaustive-list-of-vsftpd-options" class="headerlink" title="READ THIS: This example file is NOT an exhaustive list of vsftpd options."></a>READ THIS: This example file is NOT an exhaustive list of vsftpd options.</h1><h1 id="Please-read-the-vsftpd-conf-5-manual-page-to-get-a-full-idea-of-vsftpd’s"><a href="#Please-read-the-vsftpd-conf-5-manual-page-to-get-a-full-idea-of-vsftpd’s" class="headerlink" title="Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd’s"></a>Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd’s</h1><h1 id="capabilities"><a href="#capabilities" class="headerlink" title="capabilities."></a>capabilities.</h1><p>#</p><h1 id="Allow-anonymous-FTP-Beware-allowed-by-default-if-you-comment-this-out"><a href="#Allow-anonymous-FTP-Beware-allowed-by-default-if-you-comment-this-out" class="headerlink" title="Allow anonymous FTP? (Beware - allowed by default if you comment this out)."></a>Allow anonymous FTP? (Beware - allowed by default if you comment this out).</h1><p>anonymous_enable=NO<br>#</p><h1 id="Uncomment-this-to-allow-local-users-to-log-in"><a href="#Uncomment-this-to-allow-local-users-to-log-in" class="headerlink" title="Uncomment this to allow local users to log in."></a>Uncomment this to allow local users to log in.</h1><h1 id="When-SELinux-is-enforcing-check-for-SE-bool-ftp-home-dir"><a href="#When-SELinux-is-enforcing-check-for-SE-bool-ftp-home-dir" class="headerlink" title="When SELinux is enforcing check for SE bool ftp_home_dir"></a>When SELinux is enforcing check for SE bool ftp_home_dir</h1><p>local_enable=YES<br>#</p><h1 id="Uncomment-this-to-enable-any-form-of-FTP-write-command"><a href="#Uncomment-this-to-enable-any-form-of-FTP-write-command" class="headerlink" title="Uncomment this to enable any form of FTP write command."></a>Uncomment this to enable any form of FTP write command.</h1><p>write_enable=YES<br>#</p><h1 id="Default-umask-for-local-users-is-077-You-may-wish-to-change-this-to-022"><a href="#Default-umask-for-local-users-is-077-You-may-wish-to-change-this-to-022" class="headerlink" title="Default umask for local users is 077. You may wish to change this to 022,"></a>Default umask for local users is 077. You may wish to change this to 022,</h1><h1 id="if-your-users-expect-that-022-is-used-by-most-other-ftpd’s"><a href="#if-your-users-expect-that-022-is-used-by-most-other-ftpd’s" class="headerlink" title="if your users expect that (022 is used by most other ftpd’s)"></a>if your users expect that (022 is used by most other ftpd’s)</h1><p>local_umask=022<br>#</p><h1 id="Uncomment-this-to-allow-the-anonymous-FTP-user-to-upload-files-This-only"><a href="#Uncomment-this-to-allow-the-anonymous-FTP-user-to-upload-files-This-only" class="headerlink" title="Uncomment this to allow the anonymous FTP user to upload files. This only"></a>Uncomment this to allow the anonymous FTP user to upload files. This only</h1><h1 id="has-an-effect-if-the-above-global-write-enable-is-activated-Also-you-will"><a href="#has-an-effect-if-the-above-global-write-enable-is-activated-Also-you-will" class="headerlink" title="has an effect if the above global write enable is activated. Also, you will"></a>has an effect if the above global write enable is activated. Also, you will</h1><h1 id="obviously-need-to-create-a-directory-writable-by-the-FTP-user"><a href="#obviously-need-to-create-a-directory-writable-by-the-FTP-user" class="headerlink" title="obviously need to create a directory writable by the FTP user."></a>obviously need to create a directory writable by the FTP user.</h1><h1 id="When-SELinux-is-enforcing-check-for-SE-bool-allow-ftpd-anon-write-allow-ftpd-full-access"><a href="#When-SELinux-is-enforcing-check-for-SE-bool-allow-ftpd-anon-write-allow-ftpd-full-access" class="headerlink" title="When SELinux is enforcing check for SE bool allow_ftpd_anon_write, allow_ftpd_full_access"></a>When SELinux is enforcing check for SE bool allow_ftpd_anon_write, allow_ftpd_full_access</h1><p>#anon_upload_enable=YES<br>#</p><h1 id="Uncomment-this-if-you-want-the-anonymous-FTP-user-to-be-able-to-create"><a href="#Uncomment-this-if-you-want-the-anonymous-FTP-user-to-be-able-to-create" class="headerlink" title="Uncomment this if you want the anonymous FTP user to be able to create"></a>Uncomment this if you want the anonymous FTP user to be able to create</h1><h1 id="new-directories"><a href="#new-directories" class="headerlink" title="new directories."></a>new directories.</h1><p>#anon_mkdir_write_enable=YES<br>#</p><h1 id="Activate-directory-messages-messages-given-to-remote-users-when-they"><a href="#Activate-directory-messages-messages-given-to-remote-users-when-they" class="headerlink" title="Activate directory messages - messages given to remote users when they"></a>Activate directory messages - messages given to remote users when they</h1><h1 id="go-into-a-certain-directory"><a href="#go-into-a-certain-directory" class="headerlink" title="go into a certain directory."></a>go into a certain directory.</h1><p>dirmessage_enable=YES<br>#</p><h1 id="Activate-logging-of-uploads-downloads"><a href="#Activate-logging-of-uploads-downloads" class="headerlink" title="Activate logging of uploads/downloads."></a>Activate logging of uploads/downloads.</h1><p>xferlog_enable=YES<br>#</p><h1 id="Make-sure-PORT-transfer-connections-originate-from-port-20-ftp-data"><a href="#Make-sure-PORT-transfer-connections-originate-from-port-20-ftp-data" class="headerlink" title="Make sure PORT transfer connections originate from port 20 (ftp-data)."></a>Make sure PORT transfer connections originate from port 20 (ftp-data).</h1><p>connect_from_port_20=YES<br>#</p><h1 id="If-you-want-you-can-arrange-for-uploaded-anonymous-files-to-be-owned-by"><a href="#If-you-want-you-can-arrange-for-uploaded-anonymous-files-to-be-owned-by" class="headerlink" title="If you want, you can arrange for uploaded anonymous files to be owned by"></a>If you want, you can arrange for uploaded anonymous files to be owned by</h1><h1 id="a-different-user-Note-Using-“root”-for-uploaded-files-is-not"><a href="#a-different-user-Note-Using-“root”-for-uploaded-files-is-not" class="headerlink" title="a different user. Note! Using “root” for uploaded files is not"></a>a different user. Note! Using “root” for uploaded files is not</h1><h1 id="recommended"><a href="#recommended" class="headerlink" title="recommended!"></a>recommended!</h1><p>#chown_uploads=YES</p><p>#chown_username=whoever<br>#</p><h1 id="You-may-override-where-the-log-file-goes-if-you-like-The-default-is-shown"><a href="#You-may-override-where-the-log-file-goes-if-you-like-The-default-is-shown" class="headerlink" title="You may override where the log file goes if you like. The default is shown"></a>You may override where the log file goes if you like. The default is shown</h1><h1 id="below"><a href="#below" class="headerlink" title="below."></a>below.</h1><p>#xferlog_file=/var/log/xferlog<br>#</p><h1 id="If-you-want-you-can-have-your-log-file-in-standard-ftpd-xferlog-format"><a href="#If-you-want-you-can-have-your-log-file-in-standard-ftpd-xferlog-format" class="headerlink" title="If you want, you can have your log file in standard ftpd xferlog format."></a>If you want, you can have your log file in standard ftpd xferlog format.</h1><h1 id="Note-that-the-default-log-file-location-is-var-log-xferlog-in-this-case"><a href="#Note-that-the-default-log-file-location-is-var-log-xferlog-in-this-case" class="headerlink" title="Note that the default log file location is /var/log/xferlog in this case."></a>Note that the default log file location is /var/log/xferlog in this case.</h1><p>xferlog_std_format=YES<br>#</p><h1 id="You-may-change-the-default-value-for-timing-out-an-idle-session"><a href="#You-may-change-the-default-value-for-timing-out-an-idle-session" class="headerlink" title="You may change the default value for timing out an idle session."></a>You may change the default value for timing out an idle session.</h1><p>#idle_session_timeout=600<br>#</p><h1 id="You-may-change-the-default-value-for-timing-out-a-data-connection"><a href="#You-may-change-the-default-value-for-timing-out-a-data-connection" class="headerlink" title="You may change the default value for timing out a data connection."></a>You may change the default value for timing out a data connection.</h1><p>#data_connection_timeout=120<br>#</p><h1 id="It-is-recommended-that-you-define-on-your-system-a-unique-user-which-the"><a href="#It-is-recommended-that-you-define-on-your-system-a-unique-user-which-the" class="headerlink" title="It is recommended that you define on your system a unique user which the"></a>It is recommended that you define on your system a unique user which the</h1><h1 id="ftp-server-can-use-as-a-totally-isolated-and-unprivileged-user"><a href="#ftp-server-can-use-as-a-totally-isolated-and-unprivileged-user" class="headerlink" title="ftp server can use as a totally isolated and unprivileged user."></a>ftp server can use as a totally isolated and unprivileged user.</h1><p>#nopriv_user=ftpsecure<br>#</p><h1 id="Enable-this-and-the-server-will-recognise-asynchronous-ABOR-requests-Not"><a href="#Enable-this-and-the-server-will-recognise-asynchronous-ABOR-requests-Not" class="headerlink" title="Enable this and the server will recognise asynchronous ABOR requests. Not"></a>Enable this and the server will recognise asynchronous ABOR requests. Not</h1><h1 id="recommended-for-security-the-code-is-non-trivial-Not-enabling-it"><a href="#recommended-for-security-the-code-is-non-trivial-Not-enabling-it" class="headerlink" title="recommended for security (the code is non-trivial). Not enabling it,"></a>recommended for security (the code is non-trivial). Not enabling it,</h1><h1 id="however-may-confuse-older-FTP-clients"><a href="#however-may-confuse-older-FTP-clients" class="headerlink" title="however, may confuse older FTP clients."></a>however, may confuse older FTP clients.</h1><p>#async_abor_enable=YES<br>#</p><h1 id="By-default-the-server-will-pretend-to-allow-ASCII-mode-but-in-fact-ignore"><a href="#By-default-the-server-will-pretend-to-allow-ASCII-mode-but-in-fact-ignore" class="headerlink" title="By default the server will pretend to allow ASCII mode but in fact ignore"></a>By default the server will pretend to allow ASCII mode but in fact ignore</h1><h1 id="the-request-Turn-on-the-below-options-to-have-the-server-actually-do-ASCII"><a href="#the-request-Turn-on-the-below-options-to-have-the-server-actually-do-ASCII" class="headerlink" title="the request. Turn on the below options to have the server actually do ASCII"></a>the request. Turn on the below options to have the server actually do ASCII</h1><h1 id="mangling-on-files-when-in-ASCII-mode"><a href="#mangling-on-files-when-in-ASCII-mode" class="headerlink" title="mangling on files when in ASCII mode."></a>mangling on files when in ASCII mode.</h1><h1 id="Beware-that-on-some-FTP-servers-ASCII-support-allows-a-denial-of-service"><a href="#Beware-that-on-some-FTP-servers-ASCII-support-allows-a-denial-of-service" class="headerlink" title="Beware that on some FTP servers, ASCII support allows a denial of service"></a>Beware that on some FTP servers, ASCII support allows a denial of service</h1><h1 id="attack-DoS-via-the-command-“SIZE-big-file”-in-ASCII-mode-vsftpd"><a href="#attack-DoS-via-the-command-“SIZE-big-file”-in-ASCII-mode-vsftpd" class="headerlink" title="attack (DoS) via the command “SIZE /big/file” in ASCII mode. vsftpd"></a>attack (DoS) via the command “SIZE /big/file” in ASCII mode. vsftpd</h1><h1 id="predicted-this-attack-and-has-always-been-safe-reporting-the-size-of-the"><a href="#predicted-this-attack-and-has-always-been-safe-reporting-the-size-of-the" class="headerlink" title="predicted this attack and has always been safe, reporting the size of the"></a>predicted this attack and has always been safe, reporting the size of the</h1><h1 id="raw-file"><a href="#raw-file" class="headerlink" title="raw file."></a>raw file.</h1><h1 id="ASCII-mangling-is-a-horrible-feature-of-the-protocol"><a href="#ASCII-mangling-is-a-horrible-feature-of-the-protocol" class="headerlink" title="ASCII mangling is a horrible feature of the protocol."></a>ASCII mangling is a horrible feature of the protocol.</h1><p>#ascii_upload_enable=YES</p><p>#ascii_download_enable=YES<br>#</p><h1 id="You-may-fully-customise-the-login-banner-string"><a href="#You-may-fully-customise-the-login-banner-string" class="headerlink" title="You may fully customise the login banner string:"></a>You may fully customise the login banner string:</h1><p>#ftpd_banner=Welcome to blah FTP service.<br>#</p><h1 id="You-may-specify-a-file-of-disallowed-anonymous-e-mail-addresses-Apparently"><a href="#You-may-specify-a-file-of-disallowed-anonymous-e-mail-addresses-Apparently" class="headerlink" title="You may specify a file of disallowed anonymous e-mail addresses. Apparently"></a>You may specify a file of disallowed anonymous e-mail addresses. Apparently</h1><h1 id="useful-for-combatting-certain-DoS-attacks"><a href="#useful-for-combatting-certain-DoS-attacks" class="headerlink" title="useful for combatting certain DoS attacks."></a>useful for combatting certain DoS attacks.</h1><p>#deny_email_enable=YES</p><h1 id="default-follows"><a href="#default-follows" class="headerlink" title="(default follows)"></a>(default follows)</h1><p>#banned_email_file=/etc/vsftpd/banned_emails<br>#</p><h1 id="You-may-specify-an-explicit-list-of-local-users-to-chroot-to-their-home"><a href="#You-may-specify-an-explicit-list-of-local-users-to-chroot-to-their-home" class="headerlink" title="You may specify an explicit list of local users to chroot() to their home"></a>You may specify an explicit list of local users to chroot() to their home</h1><h1 id="directory-If-chroot-local-user-is-YES-then-this-list-becomes-a-list-of"><a href="#directory-If-chroot-local-user-is-YES-then-this-list-becomes-a-list-of" class="headerlink" title="directory. If chroot_local_user is YES, then this list becomes a list of"></a>directory. If chroot_local_user is YES, then this list becomes a list of</h1><h1 id="users-to-NOT-chroot"><a href="#users-to-NOT-chroot" class="headerlink" title="users to NOT chroot()."></a>users to NOT chroot().</h1><h1 id="Warning-chroot’ing-can-be-very-dangerous-If-using-chroot-make-sure-that"><a href="#Warning-chroot’ing-can-be-very-dangerous-If-using-chroot-make-sure-that" class="headerlink" title="(Warning! chroot’ing can be very dangerous. If using chroot, make sure that"></a>(Warning! chroot’ing can be very dangerous. If using chroot, make sure that</h1><h1 id="the-user-does-not-have-write-access-to-the-top-level-directory-within-the"><a href="#the-user-does-not-have-write-access-to-the-top-level-directory-within-the" class="headerlink" title="the user does not have write access to the top level directory within the"></a>the user does not have write access to the top level directory within the</h1><h1 id="chroot"><a href="#chroot" class="headerlink" title="chroot)"></a>chroot)</h1><p>chroot_local_user=YES</p><p>#chroot_list_enable=YES</p><h1 id="default-follows-1"><a href="#default-follows-1" class="headerlink" title="(default follows)"></a>(default follows)</h1><p>#chroot_list_file=/etc/vsftpd/chroot_list<br>#</p><h1 id="You-may-activate-the-“-R”-option-to-the-builtin-ls-This-is-disabled-by"><a href="#You-may-activate-the-“-R”-option-to-the-builtin-ls-This-is-disabled-by" class="headerlink" title="You may activate the “-R” option to the builtin ls. This is disabled by"></a>You may activate the “-R” option to the builtin ls. This is disabled by</h1><h1 id="default-to-avoid-remote-users-being-able-to-cause-excessive-I-O-on-large"><a href="#default-to-avoid-remote-users-being-able-to-cause-excessive-I-O-on-large" class="headerlink" title="default to avoid remote users being able to cause excessive I/O on large"></a>default to avoid remote users being able to cause excessive I/O on large</h1><h1 id="sites-However-some-broken-FTP-clients-such-as-“ncftp”-and-“mirror”-assume"><a href="#sites-However-some-broken-FTP-clients-such-as-“ncftp”-and-“mirror”-assume" class="headerlink" title="sites. However, some broken FTP clients such as “ncftp” and “mirror” assume"></a>sites. However, some broken FTP clients such as “ncftp” and “mirror” assume</h1><h1 id="the-presence-of-the-“-R”-option-so-there-is-a-strong-case-for-enabling-it"><a href="#the-presence-of-the-“-R”-option-so-there-is-a-strong-case-for-enabling-it" class="headerlink" title="the presence of the “-R” option, so there is a strong case for enabling it."></a>the presence of the “-R” option, so there is a strong case for enabling it.</h1><p>#ls_recurse_enable=YES<br>#</p><h1 id="When-“listen”-directive-is-enabled-vsftpd-runs-in-standalone-mode-and"><a href="#When-“listen”-directive-is-enabled-vsftpd-runs-in-standalone-mode-and" class="headerlink" title="When “listen” directive is enabled, vsftpd runs in standalone mode and"></a>When “listen” directive is enabled, vsftpd runs in standalone mode and</h1><h1 id="listens-on-IPv4-sockets-This-directive-cannot-be-used-in-conjunction"><a href="#listens-on-IPv4-sockets-This-directive-cannot-be-used-in-conjunction" class="headerlink" title="listens on IPv4 sockets. This directive cannot be used in conjunction"></a>listens on IPv4 sockets. This directive cannot be used in conjunction</h1><h1 id="with-the-listen-ipv6-directive"><a href="#with-the-listen-ipv6-directive" class="headerlink" title="with the listen_ipv6 directive."></a>with the listen_ipv6 directive.</h1><p>listen=NO<br>#</p><h1 id="This-directive-enables-listening-on-IPv6-sockets-By-default-listening"><a href="#This-directive-enables-listening-on-IPv6-sockets-By-default-listening" class="headerlink" title="This directive enables listening on IPv6 sockets. By default, listening"></a>This directive enables listening on IPv6 sockets. By default, listening</h1><h1 id="on-the-IPv6-“any”-address-will-accept-connections-from-both-IPv6"><a href="#on-the-IPv6-“any”-address-will-accept-connections-from-both-IPv6" class="headerlink" title="on the IPv6 “any” address (::) will accept connections from both IPv6"></a>on the IPv6 “any” address (::) will accept connections from both IPv6</h1><h1 id="and-IPv4-clients-It-is-not-necessary-to-listen-on-both-IPv4-and-IPv6"><a href="#and-IPv4-clients-It-is-not-necessary-to-listen-on-both-IPv4-and-IPv6" class="headerlink" title="and IPv4 clients. It is not necessary to listen on _both_ IPv4 and IPv6"></a>and IPv4 clients. It is not necessary to listen on _both_ IPv4 and IPv6</h1><h1 id="sockets-If-you-want-that-perhaps-because-you-want-to-listen-on-specific"><a href="#sockets-If-you-want-that-perhaps-because-you-want-to-listen-on-specific" class="headerlink" title="sockets. If you want that (perhaps because you want to listen on specific"></a>sockets. If you want that (perhaps because you want to listen on specific</h1><h1 id="addresses-then-you-must-run-two-copies-of-vsftpd-with-two-configuration"><a href="#addresses-then-you-must-run-two-copies-of-vsftpd-with-two-configuration" class="headerlink" title="addresses) then you must run two copies of vsftpd with two configuration"></a>addresses) then you must run two copies of vsftpd with two configuration</h1><h1 id="files"><a href="#files" class="headerlink" title="files."></a>files.</h1><h1 id="Make-sure-that-one-of-the-listen-options-is-commented"><a href="#Make-sure-that-one-of-the-listen-options-is-commented" class="headerlink" title="Make sure, that one of the listen options is commented !!"></a>Make sure, that one of the listen options is commented !!</h1><p>listen_ipv6=YES<br>pam_service_name=vsftpd<br>userlist_enable=YES<br>tcp_wrappers=YES<br>allow_writeable_chroot=YES<br>```</p></div><div><div><blockquote class="blockquote-center">本文完，如果您觉得本博客对您有帮助，请持续关注，谢谢！</blockquote></div></div><div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>你要请我吃辣条吗？</div><button id="rewardButton" disable="enable" onclick='var e=document.getElementById("QR");"none"===e.style.display?e.style.display="block":e.style.display="none"'><span>赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" src="http://ww1.sinaimg.cn/large/7c80419fgy1fgv40uz1gqj20u00zkjx6.jpg" alt="Alan Zou WeChat Pay"><p>微信打赏</p></div><div id="alipay" style="display:inline-block"><img id="alipay_qr" src="http://ww1.sinaimg.cn/large/7c80419fgy1fgv408tjllj20u00zkq7y.jpg" alt="Alan Zou Alipay"><p>支付宝打赏</p></div></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong> Alan Zou</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="http://blog.alanice.cn/2017/06/01/37bc801c-f724-4136-a888-20679096101e/" title="CentOS 开发环境配置">http://blog.alanice.cn/2017/06/01/37bc801c-f724-4136-a888-20679096101e/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/CentOS/" rel="tag"># CentOS</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/06/01/22e63bec-2cca-4e1b-aca9-0c890e5444d4/" rel="next" title="Ubuntu Tips"><i class="fa fa-chevron-left"></i> Ubuntu Tips</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2017/06/04/506f9f0c-7d9c-4225-b93a-2850f1b68d92/" rel="prev" title="Sublime Text 3 配置">Sublime Text 3 配置 <i class="fa fa-chevron-right"></i></a></div></div><div class="post-eof"></div></footer></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8yODQ5NC81MDY1"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview">站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="http://ww1.sinaimg.cn/large/7c80419fgy1fgkmxk3ce6j20dw0dw3zh.jpg" alt="Alan Zou"><p class="site-author-name" itemprop="name">Alan Zou</p><p class="site-description motion-element" itemprop="description">满堂花醉三千客，一剑霜寒十九州。</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">10</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">16</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/AlanIce" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub </a></span><span class="links-of-author-item"><a href="http://weibo.com/u/2088780191" target="_blank" title="Weibo"><i class="fa fa-fw fa-weibo"></i> Weibo </a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/zou-wen-jun-44/activities" target="_blank" title="Zhihu"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-globe"></i></div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="http://blog.csdn.net/pengjian444" title="PJZero - 博客频道 - CSDN.NET" target="_blank">PJZero - 博客频道 - CSDN.NET</a></li></ul></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#编译安装python3-4"><span class="nav-number">1.</span> <span class="nav-text">编译安装python3.4</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#下载前准备"><span class="nav-number">1.1.</span> <span class="nav-text">下载前准备</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#下载Python3-4源码"><span class="nav-number">1.2.</span> <span class="nav-text">下载Python3.4源码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解压缩并安装"><span class="nav-number">1.3.</span> <span class="nav-text">解压缩并安装</span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#添加用户"><span class="nav-number"></span> <span class="nav-text">添加用户</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#设置密码"><span class="nav-number"></span> <span class="nav-text">设置密码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Example-config-file-etc-vsftpd-vsftpd-conf"><span class="nav-number"></span> <span class="nav-text">Example config file /etc/vsftpd/vsftpd.conf</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#The-default-compiled-in-settings-are-fairly-paranoid-This-sample-file"><span class="nav-number"></span> <span class="nav-text">The default compiled in settings are fairly paranoid. This sample file</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#loosens-things-up-a-bit-to-make-the-ftp-daemon-more-usable"><span class="nav-number"></span> <span class="nav-text">loosens things up a bit, to make the ftp daemon more usable.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Please-see-vsftpd-conf-5-for-all-compiled-in-defaults"><span class="nav-number"></span> <span class="nav-text">Please see vsftpd.conf.5 for all compiled in defaults.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#READ-THIS-This-example-file-is-NOT-an-exhaustive-list-of-vsftpd-options"><span class="nav-number"></span> <span class="nav-text">READ THIS: This example file is NOT an exhaustive list of vsftpd options.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Please-read-the-vsftpd-conf-5-manual-page-to-get-a-full-idea-of-vsftpd’s"><span class="nav-number"></span> <span class="nav-text">Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd’s</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#capabilities"><span class="nav-number"></span> <span class="nav-text">capabilities.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Allow-anonymous-FTP-Beware-allowed-by-default-if-you-comment-this-out"><span class="nav-number"></span> <span class="nav-text">Allow anonymous FTP? (Beware - allowed by default if you comment this out).</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Uncomment-this-to-allow-local-users-to-log-in"><span class="nav-number"></span> <span class="nav-text">Uncomment this to allow local users to log in.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#When-SELinux-is-enforcing-check-for-SE-bool-ftp-home-dir"><span class="nav-number"></span> <span class="nav-text">When SELinux is enforcing check for SE bool ftp_home_dir</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Uncomment-this-to-enable-any-form-of-FTP-write-command"><span class="nav-number"></span> <span class="nav-text">Uncomment this to enable any form of FTP write command.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Default-umask-for-local-users-is-077-You-may-wish-to-change-this-to-022"><span class="nav-number"></span> <span class="nav-text">Default umask for local users is 077. You may wish to change this to 022,</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#if-your-users-expect-that-022-is-used-by-most-other-ftpd’s"><span class="nav-number"></span> <span class="nav-text">if your users expect that (022 is used by most other ftpd’s)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Uncomment-this-to-allow-the-anonymous-FTP-user-to-upload-files-This-only"><span class="nav-number"></span> <span class="nav-text">Uncomment this to allow the anonymous FTP user to upload files. This only</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#has-an-effect-if-the-above-global-write-enable-is-activated-Also-you-will"><span class="nav-number"></span> <span class="nav-text">has an effect if the above global write enable is activated. Also, you will</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#obviously-need-to-create-a-directory-writable-by-the-FTP-user"><span class="nav-number"></span> <span class="nav-text">obviously need to create a directory writable by the FTP user.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#When-SELinux-is-enforcing-check-for-SE-bool-allow-ftpd-anon-write-allow-ftpd-full-access"><span class="nav-number"></span> <span class="nav-text">When SELinux is enforcing check for SE bool allow_ftpd_anon_write, allow_ftpd_full_access</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Uncomment-this-if-you-want-the-anonymous-FTP-user-to-be-able-to-create"><span class="nav-number"></span> <span class="nav-text">Uncomment this if you want the anonymous FTP user to be able to create</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#new-directories"><span class="nav-number"></span> <span class="nav-text">new directories.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Activate-directory-messages-messages-given-to-remote-users-when-they"><span class="nav-number"></span> <span class="nav-text">Activate directory messages - messages given to remote users when they</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#go-into-a-certain-directory"><span class="nav-number"></span> <span class="nav-text">go into a certain directory.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Activate-logging-of-uploads-downloads"><span class="nav-number"></span> <span class="nav-text">Activate logging of uploads/downloads.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Make-sure-PORT-transfer-connections-originate-from-port-20-ftp-data"><span class="nav-number"></span> <span class="nav-text">Make sure PORT transfer connections originate from port 20 (ftp-data).</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#If-you-want-you-can-arrange-for-uploaded-anonymous-files-to-be-owned-by"><span class="nav-number"></span> <span class="nav-text">If you want, you can arrange for uploaded anonymous files to be owned by</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#a-different-user-Note-Using-“root”-for-uploaded-files-is-not"><span class="nav-number"></span> <span class="nav-text">a different user. Note! Using “root” for uploaded files is not</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#recommended"><span class="nav-number"></span> <span class="nav-text">recommended!</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#You-may-override-where-the-log-file-goes-if-you-like-The-default-is-shown"><span class="nav-number"></span> <span class="nav-text">You may override where the log file goes if you like. The default is shown</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#below"><span class="nav-number"></span> <span class="nav-text">below.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#If-you-want-you-can-have-your-log-file-in-standard-ftpd-xferlog-format"><span class="nav-number"></span> <span class="nav-text">If you want, you can have your log file in standard ftpd xferlog format.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Note-that-the-default-log-file-location-is-var-log-xferlog-in-this-case"><span class="nav-number"></span> <span class="nav-text">Note that the default log file location is /var/log/xferlog in this case.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#You-may-change-the-default-value-for-timing-out-an-idle-session"><span class="nav-number"></span> <span class="nav-text">You may change the default value for timing out an idle session.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#You-may-change-the-default-value-for-timing-out-a-data-connection"><span class="nav-number"></span> <span class="nav-text">You may change the default value for timing out a data connection.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#It-is-recommended-that-you-define-on-your-system-a-unique-user-which-the"><span class="nav-number"></span> <span class="nav-text">It is recommended that you define on your system a unique user which the</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ftp-server-can-use-as-a-totally-isolated-and-unprivileged-user"><span class="nav-number"></span> <span class="nav-text">ftp server can use as a totally isolated and unprivileged user.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Enable-this-and-the-server-will-recognise-asynchronous-ABOR-requests-Not"><span class="nav-number"></span> <span class="nav-text">Enable this and the server will recognise asynchronous ABOR requests. Not</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#recommended-for-security-the-code-is-non-trivial-Not-enabling-it"><span class="nav-number"></span> <span class="nav-text">recommended for security (the code is non-trivial). Not enabling it,</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#however-may-confuse-older-FTP-clients"><span class="nav-number"></span> <span class="nav-text">however, may confuse older FTP clients.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#By-default-the-server-will-pretend-to-allow-ASCII-mode-but-in-fact-ignore"><span class="nav-number"></span> <span class="nav-text">By default the server will pretend to allow ASCII mode but in fact ignore</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#the-request-Turn-on-the-below-options-to-have-the-server-actually-do-ASCII"><span class="nav-number"></span> <span class="nav-text">the request. Turn on the below options to have the server actually do ASCII</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mangling-on-files-when-in-ASCII-mode"><span class="nav-number"></span> <span class="nav-text">mangling on files when in ASCII mode.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Beware-that-on-some-FTP-servers-ASCII-support-allows-a-denial-of-service"><span class="nav-number"></span> <span class="nav-text">Beware that on some FTP servers, ASCII support allows a denial of service</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#attack-DoS-via-the-command-“SIZE-big-file”-in-ASCII-mode-vsftpd"><span class="nav-number"></span> <span class="nav-text">attack (DoS) via the command “SIZE /big/file” in ASCII mode. vsftpd</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#predicted-this-attack-and-has-always-been-safe-reporting-the-size-of-the"><span class="nav-number"></span> <span class="nav-text">predicted this attack and has always been safe, reporting the size of the</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#raw-file"><span class="nav-number"></span> <span class="nav-text">raw file.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ASCII-mangling-is-a-horrible-feature-of-the-protocol"><span class="nav-number"></span> <span class="nav-text">ASCII mangling is a horrible feature of the protocol.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#You-may-fully-customise-the-login-banner-string"><span class="nav-number"></span> <span class="nav-text">You may fully customise the login banner string:</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#You-may-specify-a-file-of-disallowed-anonymous-e-mail-addresses-Apparently"><span class="nav-number"></span> <span class="nav-text">You may specify a file of disallowed anonymous e-mail addresses. Apparently</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#useful-for-combatting-certain-DoS-attacks"><span class="nav-number"></span> <span class="nav-text">useful for combatting certain DoS attacks.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#default-follows"><span class="nav-number"></span> <span class="nav-text">(default follows)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#You-may-specify-an-explicit-list-of-local-users-to-chroot-to-their-home"><span class="nav-number"></span> <span class="nav-text">You may specify an explicit list of local users to chroot() to their home</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#directory-If-chroot-local-user-is-YES-then-this-list-becomes-a-list-of"><span class="nav-number"></span> <span class="nav-text">directory. If chroot_local_user is YES, then this list becomes a list of</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#users-to-NOT-chroot"><span class="nav-number"></span> <span class="nav-text">users to NOT chroot().</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Warning-chroot’ing-can-be-very-dangerous-If-using-chroot-make-sure-that"><span class="nav-number"></span> <span class="nav-text">(Warning! chroot’ing can be very dangerous. If using chroot, make sure that</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#the-user-does-not-have-write-access-to-the-top-level-directory-within-the"><span class="nav-number"></span> <span class="nav-text">the user does not have write access to the top level directory within the</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chroot"><span class="nav-number"></span> <span class="nav-text">chroot)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#default-follows-1"><span class="nav-number"></span> <span class="nav-text">(default follows)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#You-may-activate-the-“-R”-option-to-the-builtin-ls-This-is-disabled-by"><span class="nav-number"></span> <span class="nav-text">You may activate the “-R” option to the builtin ls. This is disabled by</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#default-to-avoid-remote-users-being-able-to-cause-excessive-I-O-on-large"><span class="nav-number"></span> <span class="nav-text">default to avoid remote users being able to cause excessive I/O on large</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sites-However-some-broken-FTP-clients-such-as-“ncftp”-and-“mirror”-assume"><span class="nav-number"></span> <span class="nav-text">sites. However, some broken FTP clients such as “ncftp” and “mirror” assume</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#the-presence-of-the-“-R”-option-so-there-is-a-strong-case-for-enabling-it"><span class="nav-number"></span> <span class="nav-text">the presence of the “-R” option, so there is a strong case for enabling it.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#When-“listen”-directive-is-enabled-vsftpd-runs-in-standalone-mode-and"><span class="nav-number"></span> <span class="nav-text">When “listen” directive is enabled, vsftpd runs in standalone mode and</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#listens-on-IPv4-sockets-This-directive-cannot-be-used-in-conjunction"><span class="nav-number"></span> <span class="nav-text">listens on IPv4 sockets. This directive cannot be used in conjunction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#with-the-listen-ipv6-directive"><span class="nav-number"></span> <span class="nav-text">with the listen_ipv6 directive.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#This-directive-enables-listening-on-IPv6-sockets-By-default-listening"><span class="nav-number"></span> <span class="nav-text">This directive enables listening on IPv6 sockets. By default, listening</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#on-the-IPv6-“any”-address-will-accept-connections-from-both-IPv6"><span class="nav-number"></span> <span class="nav-text">on the IPv6 “any” address (::) will accept connections from both IPv6</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#and-IPv4-clients-It-is-not-necessary-to-listen-on-both-IPv4-and-IPv6"><span class="nav-number"></span> <span class="nav-text">and IPv4 clients. It is not necessary to listen on _both_ IPv4 and IPv6</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sockets-If-you-want-that-perhaps-because-you-want-to-listen-on-specific"><span class="nav-number"></span> <span class="nav-text">sockets. If you want that (perhaps because you want to listen on specific</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#addresses-then-you-must-run-two-copies-of-vsftpd-with-two-configuration"><span class="nav-number"></span> <span class="nav-text">addresses) then you must run two copies of vsftpd with two configuration</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#files"><span class="nav-number"></span> <span class="nav-text">files.</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Make-sure-that-one-of-the-listen-options-is-commented"><span class="nav-number"></span> <span class="nav-text">Make sure, that one of the listen options is commented !!</span></a></li></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2017</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Alan Zou</span></div><div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div><div class="theme-info">主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a></div><div class="busuanzi-count"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user"></i> 本站访客数 <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> 人 </span><span class="site-pv"><i class="fa fa-eye"></i> 本站访问总量 <span class="busuanzi-value" id="busuanzi_value_site_pv"></span> 次</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script><script type="text/javascript">!function(e,t){var n,c=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&(n=e.createElement(t),n.src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,c.parentNode.insertBefore(n,c))}(document,"script")</script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;w<0&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script><script>AV.initialize("v3Gb74JTuq5owYoqxo4REvUK-gzGzoHsz","okj90Ted2eR6ULhy4fk6NCfz")</script><script>function showTime(e){var t=new AV.Query(e),n=[],o=$(".leancloud_visitors");o.each(function(){n.push($(this).attr("id").trim())}),t.containedIn("url",n),t.find().done(function(e){var t=".leancloud-visitors-count";if(0===e.length)return void o.find(t).text(0);for(var i=0;i<e.length;i++){var r=e[i],s=r.get("url"),l=r.get("time"),c=document.getElementById(s);$(c).find(t).text(l)}for(var i=0;i<n.length;i++){var s=n[i],c=document.getElementById(s),u=$(c).find(t);""==u.text()&&u.text(0)}}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var t=$(".leancloud_visitors"),n=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),i=new AV.Query(e);i.equalTo("url",n),i.find({success:function(t){if(t.length>0){var i=t[0];i.fetchWhenSave(!0),i.increment("time"),i.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var r=new e,s=new AV.ACL;s.setPublicReadAccess(!0),s.setPublicWriteAccess(!0),r.setACL(s),r.set("title",o),r.set("url",n),r.set("time",1),r.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script type="text/javascript" src="/js/src/special_effects/love.min.js"></script><script type="text/javascript">var line_limit=10</script><script type="text/javascript" src="/js/src/special_effects/collapse-code.js"></script><script type="text/javascript">var playerHtml='      <div class="demo-slider" id="player">      <link rel="stylesheet" type="text/css" media="all" href="/js/src/special_effects/player/initaudioplayer.css">      <div id="amazingaudioplayer-8" style="display:block;position:relative;width:320px;height:auto;margin:0px auto 0px;">      <ul class="amazingaudioplayer-audios" style="display:none;">    ';playerHtml+='        <li data-title="华胥一梦" data-image="/js/src/special_effects/player/music/华胥一梦.jpg">          <div class="amazingaudioplayer-source" data-src="/js/src/special_effects/player/music/阿鲲-华胥一梦.mp3" data-type="audio/mpeg"></div>        </li>      ',playerHtml+='        <li data-title="天下第一" data-image="/js/src/special_effects/player/music/天下第一.jpg">          <div class="amazingaudioplayer-source" data-src="/js/src/special_effects/player/music/麦振鸿,罗坚 - 天下第一.mp3" data-type="audio/mpeg"></div>        </li>      ',playerHtml+='        <li data-title="雪见—仙凡之旅" data-image="/js/src/special_effects/player/music/雪见—仙凡之旅.png">          <div class="amazingaudioplayer-source" data-src="/js/src/special_effects/player/music/麦振鸿 - 雪见—仙凡之旅.mp3" data-type="audio/mpeg"></div>        </li>      ',playerHtml+="      </ul>      </div>      </div>    "</script><script type="text/javascript" src="/js/src/special_effects/player/dialog-plus.js"></script><script type="text/javascript" src="/js/src/special_effects/player/jquery.js"></script><script type="text/javascript" src="/js/src/special_effects/player/amazingaudioplayer.js"></script><script type="text/javascript" src="/js/src/special_effects/player/initplayer.js"></script></body></html>